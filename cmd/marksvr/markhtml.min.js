function dom(e){return document.getElementById(e)}function ndom(e){return document.createElement(e)}function endwith(e,t){return-1!=e.indexOf(t,e.length-t.length)}function hfmt(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mark_adjustUrl(e){for(var t=e.substr(0,e.indexOf("/",10)),n=e.substr(0,e.lastIndexOf("/")),a=document.getElementsByTagName("img"),r=0;r<a.length;r++){var l=a[r],i=l.getAttribute("src");i.startsWith("http://")||i.startsWith("https://")||(i.startsWith("/")?l.src=t+i:l.src=n+"/"+i)}}function marktitle(){var e=document.getElementsByTagName("h1"),t="";""===(t=0<(e=e.length<=0?document.getElementsByTagName("h2"):e).length?e[0]:t)&&(t="Markdown To HTML"),document.title=t.innerText}function markmenu(e){if(!(window.innerWidth<900)){var t=document.getElementsByTagName("h1");if(!((t=t.length<=0?document.getElementsByTagName("h2"):t).length<=0))for(var n,a,r,l=(window.innerWidth-860)/2,i=dom("app").innerHTML,o=new RegExp("<h([1-"+e+']) id="([^"]+)"',"g"),d=dom("menu"),c=0;a=o.exec(i);){if(e=parseInt(a[1]),a=makeLink(dom(a[2]),l),c<e)r=ndom("ul"),d.appendChild(r);else if(e==c)r=n;else for(;e<c--;)r=n.parentNode.parentNode;r.appendChild(a),d=a,n=r,c=e}}}function makeLink(e,t){var n=ndom("li");n.style.width=t,window.arst=e;t=[].slice.call(e.childNodes).map(function(e){return e.nodeType===Node.TEXT_NODE?e.nodeValue:-1!==["CODE","SPAN"].indexOf(e.tagName)?e.textContent:""}).join("").replace(/\(.*\)$/,"");return n.innerHTML='<a class="section-link" data-scroll href="#'+e.id+'">'+hfmt(t)+"</a>",n}function markhighlight(){hljs.highlightAll()}var gitalk_enable_host="wongoo.github.io",gitalk_client_id="36302f69a92e0bddf32a",gitalk_client_secret="f4bac053e89397b54fcf524b8a399a3ebb09c199",gitalk_repo="wongoo.github.io",gitalk_user="wongoo";function NewGitalk(){return new Gitalk({clientID:gitalk_client_id,clientSecret:gitalk_client_secret,repo:gitalk_repo,owner:gitalk_user,admin:[gitalk_user],id:GenGitTalkPageId(),language:"zh-CN",distractionFreeMode:!0})}function GenGitTalkPageId(){var e=document.location.href,t=(e="/"===(e=(e=(e=(e=(e=(e=e.replace("http://","")).replace("https://","")).replace(gitalk_enable_host,"")).replace(".html","")).replace(".md","")).replace(".markdown",""))[e.length-1]?e.substr(0,e.length-1):e).lastIndexOf("#"),t=(e=0<t?e.substr(0,t):e).lastIndexOf("/");return 25<e.length-t?e=e.substr(t+1):(t=e.lastIndexOf("/",t-1),25<e.length-t&&(e=e.substr(t+1))),e=(e=50<(e=50<e.length?e.replace(/[\W]/g,""):e).length?e.substr(e.length-50):e).replaceAll("/","-")}function markgittalk(){NewGitalk().render("gitalk")}function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function ajaxget(e,t,n){xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.onreadystatechange=function(){t(xmlhttp)},xmlhttp.onerror=n,xmlhttp.open("GET",e,!0),xmlhttp.send()}function loadmark(){var n=getParameterByName("url");endwith(n,"/")||endwith(n,".markdown")||endwith(n,".md")?(endwith(n,"/")&&(n+="README.md"),dom("menu").innerHTML="",ajaxget(n,function(e){if(4===e.readyState&&200===e.status){var t=marked(e.responseText);return""===t?void alert("找不到你要访问的页面!"):(dom("app").innerHTML=t,marktitle(),mark_adjustUrl(n),markmenu(4),void markhighlight())}404!==e.status?400<=e.status&&alert("无法加载请求页面"):alert("找不到你要访问的页面!")},function(e){console.log(e),alert(e)})):alert("不支持的markdown地址: "+n)}